


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		<meta content="BLAS, Library, Vitis BLAS Library, Vitis BLAS, level 3" name="keywords" />
<meta content="Vitis BLAS library level 3 provides software API functions to offload BLAS operations to pre-built FPGA images." name="description" />
<meta content="Document" name="xlnxdocumentclass" />
<meta content="Tutorials" name="xlnxdocumenttype" />

		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="../../_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../../_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

  
  
  
  

  
      <script type="text/javascript" src="../../_static/js/jquery.min.js"></script>
	  <script type="text/javascript" src="../../_static/js/gtm.js"></script>
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="../../_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="../../_static/js/common-ui-all.min.js"></script>
    <script type="text/javascript" src="../../_static/js/header-footer.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../../_static/js/CoveoJsSearch.Lazy.min.js"></script>
    <script type="text/javascript" src="../../_static/js/linkid.js"></script>
    <script type="text/javascript" src="../../_static/js/Searchbox.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/pro.min.css" media="all" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="L3 API example" href="L3_example.html" />
    <link rel="prev" title="L3 API Overview" href="L3_overview.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="header parbase aem-GridColumn aem-GridColumn--default--12">
								<noindex>
									<header data-component="header">
										<nav class="navbar navbar-default aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid main-nav">
													<div class="row">
														<div class="col-xs-12">
															<div class="logo-column">
																<div class="logo">
																	<a href="https://www.xilinx.com/">
																	<img src="https://github.com/Xilinx/Image-Collateral/blob/main/xilinx-header-logo.svg?raw=true" title="Xilinx Inc"/>
																	</a>
																</div>
															</div>
															<div class="navbar-column">
																<div class="navbar navbar-collapse collapse" id="xilinx-main-menu">
																	<div class="mobile-search-container">
																		<div id="headerSearchBox" class="headerSearch"
																			data-component="header-search"
																			data-redirect-if-empty="false"
																			data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																			data-coveo-organization-id="xilinxcomprode2rjoqok">
																			<div class='coveo-search-section'>
																				<div class="CoveoAnalytics" data-search-hub="Site"></div>
																				<ul class="dropdown-menu options">
																					<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																						<a href="#">
																						All</a>
																					</li>
																					<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com//products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Silicon Devices</a>
																					</li>
																					<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com//products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Boards and Kits</a>
																					</li>
																					<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com//products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Intellectual Property</a>
																					</li>
																					<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																						<a href="#">
																						Support</a>
																						<ul>
																							<li data-label="Documentation" data-action-link="https://www.xilinx.com//support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																								<a href="#">
																								Documentation</a>
																							</li>
																							<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com//support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																								<a href="#">
																								Knowledge Base</a>
																							</li>
																							<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																								<a href="#">
																								Community Forums</a>
																							</li>
																						</ul>
																					</li>
																					<li data-label="Partners" data-action-link="https://www.xilinx.com//alliance/member-keyword-search.html" data-search-hub="Partner">
																						<a href="#">
																						Partners</a>
																					</li>
																					<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																						<a href="#">
																						Videos</a>
																					</li>
																					<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																						<a href="#">
																						Press</a>
																					</li>
																				</ul>
																				<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																				<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																			</div>
																		</div>
																	</div>
																	<ul class="nav navbar-nav nav-justified">
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/applications.html">
																			Applications</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/products/silicon-devices.html">
																			Products</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://developer.xilinx.com/">
																			Developers</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/support.html">
																			Support</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/about/company-overview.html">
																			About</a>
																		</li>
																	</ul>
																</div>
															</div>
															<script type="text/javascript" src="../../_static/js/gtm.js"></script>
															<!--<div class="mini-nav">
																<button type="button" data-function="xilinx-mobile-menu" id="nav-toggle" class="navbar-toggle collapsed visible-xs-block" aria-expanded="false">
																<span></span>
																<span></span>
																<span></span>
																<span></span>
																</button>
																<ul class="list-inline">
																	<li class="dropdown user-menu">
																		<button data-toggle="dropdown">
																		<span class="sr-only">Account</span>
																		<span class="fas fa-user"></span>
																		</button>
																		<ul class="dropdown-menu">
																			<li>
																				<a href="https://www.xilinx.com/myprofile/subscriptions.html">
																				My Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/registration/create-account.html">
																				Create Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/bin/protected/en/signout">
																				Sign Out</a>
																			</li>
																		</ul>
																	</li>
																	<li class="hidden-xs">
																		<button data-function="search-toggle">
																		<span class="sr-only">Search</span>
																		<span class="far fa-search"></span>
																		</button>
																	</li>
																</ul>
															</div>
															-->
															<div class="search-container">
																<div id="headerSearchBox" class="headerSearch"
																	data-component="header-search"
																	data-redirect-if-empty="false"
																	data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																	data-coveo-organization-id="xilinxcomprode2rjoqok">
																	<div class='coveo-search-section'>
																		<div class="CoveoAnalytics" data-search-hub="Site"></div>
																		<ul class="dropdown-menu options">
																			<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																				<a href="#">
																				All</a>
																			</li>
																			<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com/products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Silicon Devices</a>
																			</li>
																			<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com/products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Boards and Kits</a>
																			</li>
																			<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com/products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Intellectual Property</a>
																			</li>
																			<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																				<a href="#">
																				Support</a>
																				<ul>
																					<li data-label="Documentation" data-action-link="https://www.xilinx.com/support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																						<a href="#">
																						Documentation</a>
																					</li>
																					<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com/support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																						<a href="#">
																						Knowledge Base</a>
																					</li>
																					<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																						<a href="#">
																						Community Forums</a>
																					</li>
																				</ul>
																			</li>
																			<li data-label="Partners" data-action-link="https://www.xilinx.com/alliance/member-keyword-search.html" data-search-hub="Partner">
																				<a href="#">
																				Partners</a>
																			</li>
																			<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																				<a href="#">
																				Videos</a>
																			</li>
																			<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																				<a href="#">
																				Press</a>
																			</li>
																		</ul>
																		<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																		<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																	</div>
																</div>
																<button data-function="search-toggle">
																<span class="sr-only">Search</span>
																<span class="far fa-times"></span>
																</button>
															</div>
														</div>
													</div>
												</div>
											</div>
										</nav>
									</header>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> Vitis BLAS Library
          

          
          </a>

          
            
            
              <div class="version">
                2021.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

      
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            
            
            
              
            
            
              <p class="caption"><span class="caption-text">Library Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview.html#license">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview.html#trademark-notice">Trademark Notice</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release.html">Release Note</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../L1/L1.html">L1 Primitives User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L2/L2.html">L2 Kernels User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="L3.html">L3 API User Guide</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="L3_overview.html">L3 API Overview</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">1. Introduction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#data-layout">1.1 Data layout</a></li>
<li class="toctree-l4"><a class="reference internal" href="#memory-allocation">1.2 Memory Allocation</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#restricted-memory-version">Restricted memory version</a></li>
<li class="toctree-l5"><a class="reference internal" href="#default-memory-version">Default memory version</a></li>
<li class="toctree-l5"><a class="reference internal" href="#pre-allocated-memory-version">Pre-allocated memory version</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#supported-datatypes">1.3 Supported Datatypes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#using-the-vitis-blas-api">2. Using the Vitis BLAS API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#general-description">2.1 General description</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#error-status">2.1.1 Error status</a></li>
<li class="toctree-l5"><a class="reference internal" href="#vitis-blas-initialization">2.1.2 Vitis BLAS initialization</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#datatypes-reference">2.2 Datatypes Reference</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#xfblasstatus-t">2.2.1 xfblasStatus_t</a></li>
<li class="toctree-l5"><a class="reference internal" href="#xfblasengine-t">2.2.2 xfblasEngine_t</a></li>
<li class="toctree-l5"><a class="reference internal" href="#xfblasoperation-t">2.2.3 xfblasOperation_t</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#vitis-blas-helper-function-reference">2.3 Vitis BLAS Helper Function Reference</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#xfblascreate">2.3.1 xfblasCreate</a></li>
<li class="toctree-l5"><a class="reference internal" href="#xfblasfree">2.3.2 xfblasFree</a></li>
<li class="toctree-l5"><a class="reference internal" href="#xfblasdestroy">2.3.3 xfblasDestroy</a></li>
<li class="toctree-l5"><a class="reference internal" href="#xfblasmalloc">2.3.4 xfblasMalloc</a></li>
<li class="toctree-l5"><a class="reference internal" href="#xfblassetvector">2.3.5 xfblasSetVector</a></li>
<li class="toctree-l5"><a class="reference internal" href="#xfblasgetvector">2.3.6 xfblasGetVector</a></li>
<li class="toctree-l5"><a class="reference internal" href="#xfblassetmatrix">2.3.7 xfblasSetMatrix</a></li>
<li class="toctree-l5"><a class="reference internal" href="#xfblasgetmatrix">2.3.8 xfblasGetMatrix</a></li>
<li class="toctree-l5"><a class="reference internal" href="#xfblasmallocrestricted">2.3.9 xfblasMallocRestricted</a></li>
<li class="toctree-l5"><a class="reference internal" href="#xfblassetvectorrestricted">2.3.10 xfblasSetVectorRestricted</a></li>
<li class="toctree-l5"><a class="reference internal" href="#xfblasgetvectorrestricted">2.3.11 xfblasGetVectorRestricted</a></li>
<li class="toctree-l5"><a class="reference internal" href="#xfblassetmatrixrestricted">2.3.12 xfblasSetMatrixRestricted</a></li>
<li class="toctree-l5"><a class="reference internal" href="#xfblasgetmatrixrestricted">2.3.13 xfblasGetMatrixRestricted</a></li>
<li class="toctree-l5"><a class="reference internal" href="#xfblasmallocmanaged">2.3.14 xfblasMallocManaged</a></li>
<li class="toctree-l5"><a class="reference internal" href="#xfblasexecute">2.3.15 xfblasExecute</a></li>
<li class="toctree-l5"><a class="reference internal" href="#xfblasexecuteasync">2.3.16 xfblasExecuteAsync</a></li>
<li class="toctree-l5"><a class="reference internal" href="#xfblasgetbypointer">2.3.17 xfblasGetByPointer</a></li>
<li class="toctree-l5"><a class="reference internal" href="#xfblasgetbyaddress">2.3.18 xfblasGetByAddress</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#vitis-blas-function-reference">2.4 Vitis BLAS Function Reference</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#xfblasgemm">2.4.1 xfblasGemm</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#obtain-fpga-bitstream">3. Obtain FPGA bitstream</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="L3_example.html">L3 API example</a></li>
<li class="toctree-l2"><a class="reference internal" href="L3_benchmark.html">L3 API benchmark</a></li>
<li class="toctree-l2"><a class="reference internal" href="L3_test.html">L3 API test</a></li>
<li class="toctree-l2"><a class="reference internal" href="L3_python_bindings.html">L3 Python bindings</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyenvguide.html">Python Environment Setup Guide</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Benchmark</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../benchmark.html">Benchmark</a></li>
</ul>

            
			
			<p class="caption"><span class="caption-text">This Page</span></p>
				<ul class="current">
				  <li class="toctree-l1"><a href="../../_sources/user_guide/L3/L3_overview_content.rst.txt"
						rel="nofollow">Show Source</a></li>
				</ul>
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Vitis BLAS Library</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="L3.html">L3 API User Guide</a> &raquo;</li>
        
          <li><a href="L3_overview.html">L3 API Overview</a> &raquo;</li>
        
      <li>1. Introduction</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/user_guide/L3/L3_overview_content.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p id="user-guide-overview-content-l3">Vitis BLAS level 3 provides software API functions to offload BLAS operations to pre-built FPGA images.</p>
<div class="section" id="introduction">
<h1>1. Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<p>The Vitis BLAS level 3 library is an implementation of BLAS on top of the XILINX runtime (XRT). It allows software developers to use Vitis BLAS library without writing any runtime functions and hardware configurations.</p>
<div class="section" id="data-layout">
<h2>1.1 Data layout<a class="headerlink" href="#data-layout" title="Permalink to this headline">¶</a></h2>
<p>Vitis BLAS library uses row-major storage. The array index of a matrix element could be calculated by the following macro.</p>
<pre class="highlight literal-block">
<span></span><span class="c1"># define IDX2R(i,j,ld) ( ( (i)*(ld) ) + (j) )</span>
</pre>
</div>
<div class="section" id="memory-allocation">
<h2>1.2 Memory Allocation<a class="headerlink" href="#memory-allocation" title="Permalink to this headline">¶</a></h2>
<p>Vitis BLAS level 3 library supports three different versions of APIs to support memory allocation in device. Users could choose from different versions to better support their application based on the cases. Examples for using three different versions could be found in <a class="reference internal" href="L3_example.html"><span class="doc">BLAS Level 3 example</span></a>.</p>
<table border="1" class="docutils">
<colgroup>
<col width="32%" />
<col width="37%" />
<col width="30%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Already have host memory input</th>
<th class="head">Host memory matrix sizes are padded</th>
<th class="head">Version to choose</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Yes</td>
<td>Yes</td>
<td>Restricted memory version</td>
</tr>
<tr class="row-odd"><td>Yes</td>
<td>No</td>
<td>Default memory version</td>
</tr>
<tr class="row-even"><td>No</td>
<td>Does not apply</td>
<td>Pre-allocated memory version</td>
</tr>
</tbody>
</table>
<div class="section" id="restricted-memory-version">
<h3>Restricted memory version<a class="headerlink" href="#restricted-memory-version" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>To use restricted memory version, user’s input matrix sizes must be multiple of certain configuration values that are used to build the FPGA bitstreams. Also, host memory is encouraged to be 4k aligned when using restricted memory version. Compared to the default memory version, even though there are requirements on the matrix sizes, restricted memory version could save extra memory copy in host side.</div></blockquote>
</div>
<div class="section" id="default-memory-version">
<h3>Default memory version<a class="headerlink" href="#default-memory-version" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>This version has no limitations on user host memory, and it is easy to use. API functions will do the padding internally so this will lead to extra memory copy in host side. The result output matrix will also be the same sizes.</div></blockquote>
</div>
<div class="section" id="pre-allocated-memory-version">
<h3>Pre-allocated memory version<a class="headerlink" href="#pre-allocated-memory-version" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>To use this version, users need to call API functions to allocate the device memory first, then fill in host memory that is mapped to device memory with values. There is no extra memory copy and the programming is easier compared to the other two versions. However, when filling in the matrices, users need to use the padded sizes, also the result output matrix’s sizes are padded instead of the original ones. Please see examples for more usage information.</div></blockquote>
</div>
</div>
<div class="section" id="supported-datatypes">
<h2>1.3 Supported Datatypes<a class="headerlink" href="#supported-datatypes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>float</li>
</ul>
</div>
</div>
<div class="section" id="using-the-vitis-blas-api">
<h1>2. Using the Vitis BLAS API<a class="headerlink" href="#using-the-vitis-blas-api" title="Permalink to this headline">¶</a></h1>
<div class="section" id="general-description">
<h2>2.1 General description<a class="headerlink" href="#general-description" title="Permalink to this headline">¶</a></h2>
<p>This section describes how to use the Vitis BLAS library API level.</p>
<div class="section" id="error-status">
<h3>2.1.1 Error status<a class="headerlink" href="#error-status" title="Permalink to this headline">¶</a></h3>
<p>Vitis BLAS API function calls return the error status of datatype <a class="reference internal" href="#xfblasstatus-t">xfblasStatus_t</a>.</p>
</div>
<div class="section" id="vitis-blas-initialization">
<h3>2.1.2 Vitis BLAS initialization<a class="headerlink" href="#vitis-blas-initialization" title="Permalink to this headline">¶</a></h3>
<p>To initialize the library, xfblasCreate() function must be called. This function will open the device, download the FPGA image to the device  and create context on the selected compute unit. For a multi-kernels xclbin, contexts will be opened on the corresponding compute units. Please refer L3 examples for detail usage.</p>
</div>
</div>
<div class="section" id="datatypes-reference">
<h2>2.2 Datatypes Reference<a class="headerlink" href="#datatypes-reference" title="Permalink to this headline">¶</a></h2>
<div class="section" id="xfblasstatus-t">
<h3>2.2.1 xfblasStatus_t<a class="headerlink" href="#xfblasstatus-t" title="Permalink to this headline">¶</a></h3>
<p>The type is used for function status returns. All Vitis BLAS level 3 library functions return status which has the following values.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="75%" />
<col width="5%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Item</th>
<th class="head">Meaning</th>
<th class="head">Value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>XFBLAS_STATUS_SUCCESS</td>
<td>The function is completed successfully</td>
<td>0</td>
</tr>
<tr class="row-odd"><td>XFBLAS_STATUS_NOT_INITIALIZED</td>
<td>The Vitis BLAS library was not initialized. This is usually caused by not calling function xfblasCreate previously.</td>
<td>1</td>
</tr>
<tr class="row-even"><td>XFBLAS_STATUS_INVALID_VALUE</td>
<td>An unsupported value or parameter was passed to the function. For example, an negative matrix size.</td>
<td>2</td>
</tr>
<tr class="row-odd"><td>XFBLAS_STATUS_ALLOC_FAILED</td>
<td>Memory allocation failed inside the Vitis BLAS library.</td>
<td>3</td>
</tr>
<tr class="row-even"><td>XFBLAS_STATUS_NOT_SUPPORTED</td>
<td>The functionality requested is not supported yet.</td>
<td>4</td>
</tr>
<tr class="row-odd"><td>XFBLAS_STATUS_NOT_PADDED</td>
<td>For restricted mode, matrix sizes are not padded correctly.</td>
<td>5</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="xfblasengine-t">
<h3>2.2.2 xfblasEngine_t<a class="headerlink" href="#xfblasengine-t" title="Permalink to this headline">¶</a></h3>
<p>The xfblasEngine_t type indicates which engine needs to be performed when initializes the Vitis BLAS library. xfblasEngine_t type should be matched with the FPGA bitstream.</p>
<table border="1" class="docutils">
<colgroup>
<col width="41%" />
<col width="59%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Meaning</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>XFBLAS_ENGINE_GEMM</td>
<td>The GEMM engine is selected</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="xfblasoperation-t">
<h3>2.2.3 xfblasOperation_t<a class="headerlink" href="#xfblasoperation-t" title="Permalink to this headline">¶</a></h3>
<p>The xfblasOperation_t type indicates which operation needs to be performed with the matrix.</p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Meaning</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>XFBLAS_OP_N</td>
<td>The non-transpose operation is selected</td>
</tr>
<tr class="row-odd"><td>XFBLAS_OP_T</td>
<td>The transpose operation is selected</td>
</tr>
<tr class="row-even"><td>XFBLAS_OP_C</td>
<td>The conjugate transpose operation is selected</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="vitis-blas-helper-function-reference">
<h2>2.3 Vitis BLAS Helper Function Reference<a class="headerlink" href="#vitis-blas-helper-function-reference" title="Permalink to this headline">¶</a></h2>
<div class="section" id="xfblascreate">
<h3>2.3.1 xfblasCreate<a class="headerlink" href="#xfblascreate" title="Permalink to this headline">¶</a></h3>
<pre class="highlight title-code-block literal-block">
<span></span><span class="n">xfblasStatus_t</span> <span class="n">xfblasCreate</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">xclbin</span><span class="p">,</span> <span class="n">string</span> <span class="n">configFile</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">logFile</span><span class="p">,</span> <span class="n">xfblasEngine_t</span> <span class="n">engineName</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">kernelNumber</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">deviceIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</pre>
<p>This function initializes the Vitis BLAS library and creates a handle for the specific engine. It must be called prior to any other Vitis BLAS library calls.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>xclbin</td>
<td>file path to FPGA bitstream</td>
</tr>
<tr class="row-even"><td>configFile</td>
<td>file path to config_info.dat file</td>
</tr>
<tr class="row-odd"><td>logFile</td>
<td>file path to log file</td>
</tr>
<tr class="row-even"><td>engineName</td>
<td>Vitis BLAS engine to run</td>
</tr>
<tr class="row-odd"><td>kernelNumber</td>
<td>number of kernels that is being used, default is 1</td>
</tr>
<tr class="row-even"><td>deviceIndex</td>
<td>index of device that is being used, default is 0</td>
</tr>
</tbody>
</table>
<p class="rubric">Return:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>0 if the initialization succeeded</td>
</tr>
<tr class="row-even"><td>xfblasStatus_t</td>
<td>1 if the opencl runtime initialization failed</td>
</tr>
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>2 if the xclbin doesn’t contain the engine</td>
</tr>
<tr class="row-even"><td>xfblasStatus_t</td>
<td>4 if the engine is not supported for now</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="xfblasfree">
<h3>2.3.2 xfblasFree<a class="headerlink" href="#xfblasfree" title="Permalink to this headline">¶</a></h3>
<pre class="highlight title-code-block literal-block">
<span></span><span class="n">xfblasStatus_t</span> <span class="n">xfblasFree</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span> <span class="n">A</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">kernelIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">deviceIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</pre>
<p>This function frees memory in FPGA device.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>A</td>
<td>pointer to matrix A in the host memory</td>
</tr>
<tr class="row-even"><td>kernelIndex</td>
<td>index of kernel that is being used, default is 0</td>
</tr>
<tr class="row-odd"><td>deviceIndex</td>
<td>index of device that is being used, default is 0</td>
</tr>
</tbody>
</table>
<p class="rubric">Return:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>0 if the operation completed successfully</td>
</tr>
<tr class="row-even"><td>xfblasStatus_t</td>
<td>1 if the library was not initialized</td>
</tr>
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>3 if there is no FPGA device memory allocated for the matrix</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="xfblasdestroy">
<h3>2.3.3 xfblasDestroy<a class="headerlink" href="#xfblasdestroy" title="Permalink to this headline">¶</a></h3>
<pre class="highlight title-code-block literal-block">
<span></span><span class="n">xfblasStatus_t</span> <span class="n">xfblasDestroy</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">kernelNumber</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">deviceIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</pre>
<p>This function releases handle used by the Vitis BLAS library.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>kernelNumber</td>
<td>number of kernels that is being used, default is 1</td>
</tr>
<tr class="row-even"><td>deviceIndex</td>
<td>index of device that is being used, default is 0</td>
</tr>
</tbody>
</table>
<p class="rubric">Return:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>0 if the shut down succeeded</td>
</tr>
<tr class="row-even"><td>xfblasStatus_t</td>
<td>1 if the library was not initialized</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="xfblasmalloc">
<h3>2.3.4 xfblasMalloc<a class="headerlink" href="#xfblasmalloc" title="Permalink to this headline">¶</a></h3>
<pre class="highlight title-code-block literal-block">
<span></span><span class="n">xfblasStatus_t</span> <span class="n">xfblasMalloc</span><span class="p">(</span><span class="kt">short</span><span class="o">**</span> <span class="n">devPtr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">rows</span><span class="p">,</span> <span class="kt">int</span> <span class="n">lda</span><span class="p">,</span> <span class="kt">int</span> <span class="n">elemSize</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">kernelIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">deviceIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">xfblasStatus_t</span> <span class="n">xfblasMalloc</span><span class="p">(</span><span class="kt">float</span><span class="o">**</span> <span class="n">devPtr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">rows</span><span class="p">,</span> <span class="kt">int</span> <span class="n">lda</span><span class="p">,</span> <span class="kt">int</span> <span class="n">elemSize</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">kernelIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">deviceIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</pre>
<p>This function allocates memory on the FPGA device.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>devPtr</td>
<td>pointer to mapped memory</td>
</tr>
<tr class="row-even"><td>rows</td>
<td>number of rows in the matrix</td>
</tr>
<tr class="row-odd"><td>lda</td>
<td>leading dimension of the matrix that indicates the total number of cols in the matrix</td>
</tr>
<tr class="row-even"><td>elemSize</td>
<td>number of bytes required to store each element in the matrix</td>
</tr>
<tr class="row-odd"><td>kernelIndex</td>
<td>index of kernel that is being used, default is 0</td>
</tr>
<tr class="row-even"><td>deviceIndex</td>
<td>index of device that is being used, default is 0</td>
</tr>
</tbody>
</table>
<p class="rubric">Return:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>0 if the allocation completed successfully</td>
</tr>
<tr class="row-even"><td>xfblasStatus_t</td>
<td>1 if the library was not initialized</td>
</tr>
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>2 if parameters rows, cols, elemSize, lda &lt;= 0 or cols &gt; lda or data types are not matched</td>
</tr>
<tr class="row-even"><td>xfblasStatus_t</td>
<td>3 if there is memory already allocated to the same matrix</td>
</tr>
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>4 if the engine is not supported for now</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="xfblassetvector">
<h3>2.3.5 xfblasSetVector<a class="headerlink" href="#xfblassetvector" title="Permalink to this headline">¶</a></h3>
<pre class="highlight title-code-block literal-block">
<span></span><span class="n">xfblasStatus_t</span> <span class="n">xfblasSetVector</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="n">elemSize</span><span class="p">,</span> <span class="kt">short</span><span class="o">*</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">incx</span><span class="p">,</span> <span class="kt">short</span><span class="o">*</span> <span class="n">d_x</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">kernelIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">deviceIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">xfblasStatus_t</span> <span class="n">xfblasSetVector</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="n">elemSize</span><span class="p">,</span> <span class="kt">float</span><span class="o">*</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">incx</span><span class="p">,</span> <span class="kt">float</span><span class="o">*</span> <span class="n">d_x</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">kernelIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">deviceIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</pre>
<p>This function copies a vector in host memory to FPGA device memory. <a class="reference internal" href="#xfblasmalloc">xfblasMalloc()</a> need to be called prior to this function.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>n</td>
<td>number of elements in vector</td>
</tr>
<tr class="row-even"><td>elemSize</td>
<td>number of bytes required to store each element in the vector</td>
</tr>
<tr class="row-odd"><td>x</td>
<td>pointer to the vector in the host memory</td>
</tr>
<tr class="row-even"><td>incx</td>
<td>the storage spacing between consecutive elements of vector x</td>
</tr>
<tr class="row-odd"><td>d_x</td>
<td>pointer to mapped memory</td>
</tr>
<tr class="row-even"><td>kernelIndex</td>
<td>index of kernel that is being used, default is 0</td>
</tr>
<tr class="row-odd"><td>deviceIndex</td>
<td>index of device that is being used, default is 0</td>
</tr>
</tbody>
</table>
<p class="rubric">Return:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>0 if the operation completed successfully</td>
</tr>
<tr class="row-even"><td>xfblasStatus_t</td>
<td>1 if the library was not initialized</td>
</tr>
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>2 if parameters rows, cols, elemSize, lda &lt;= 0 or cols &gt; lda or data types are not matched</td>
</tr>
<tr class="row-even"><td>xfblasStatus_t</td>
<td>3 if there is no FPGA device memory allocated for the vector</td>
</tr>
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>4 if the engine is not supported for now</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="xfblasgetvector">
<h3>2.3.6 xfblasGetVector<a class="headerlink" href="#xfblasgetvector" title="Permalink to this headline">¶</a></h3>
<pre class="highlight title-code-block literal-block">
<span></span><span class="n">xfblasStatus_t</span> <span class="n">xfblasGetVector</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="n">elemSize</span><span class="p">,</span> <span class="kt">short</span><span class="o">*</span> <span class="n">d_x</span><span class="p">,</span> <span class="kt">short</span><span class="o">*</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">incx</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">kernelIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">deviceIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">xfblasStatus_t</span> <span class="n">xfblasGetVector</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="n">elemSize</span><span class="p">,</span> <span class="kt">float</span><span class="o">*</span> <span class="n">d_x</span><span class="p">,</span> <span class="kt">float</span><span class="o">*</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">incx</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">kernelIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">deviceIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</pre>
<p>This function copies a vector in FPGA device memory to host memory.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>n</td>
<td>number of elements in vector</td>
</tr>
<tr class="row-even"><td>elemSize</td>
<td>number of bytes required to store each element in the vector</td>
</tr>
<tr class="row-odd"><td>d_x</td>
<td>pointer to mapped memory</td>
</tr>
<tr class="row-even"><td>x</td>
<td>pointer to the vector in the host memory</td>
</tr>
<tr class="row-odd"><td>incx</td>
<td>the storage spacing between consecutive elements of vector x</td>
</tr>
<tr class="row-even"><td>kernelIndex</td>
<td>index of kernel that is being used, default is 0</td>
</tr>
<tr class="row-odd"><td>deviceIndex</td>
<td>index of device that is being used, default is 0</td>
</tr>
</tbody>
</table>
<p class="rubric">Return:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>0 if the operation completed successfully</td>
</tr>
<tr class="row-even"><td>xfblasStatus_t</td>
<td>1 if the library was not initialized</td>
</tr>
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>3 if there is no FPGA device memory allocated for the vector</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="xfblassetmatrix">
<h3>2.3.7 xfblasSetMatrix<a class="headerlink" href="#xfblassetmatrix" title="Permalink to this headline">¶</a></h3>
<pre class="highlight title-code-block literal-block">
<span></span><span class="n">xfblasStatus_t</span> <span class="n">xfblasSetMatrix</span><span class="p">(</span><span class="kt">int</span> <span class="n">rows</span><span class="p">,</span> <span class="kt">int</span> <span class="n">cols</span><span class="p">,</span> <span class="kt">int</span> <span class="n">elemSize</span><span class="p">,</span> <span class="kt">short</span><span class="o">*</span> <span class="n">A</span><span class="p">,</span> <span class="kt">int</span> <span class="n">lda</span><span class="p">,</span> <span class="kt">short</span><span class="o">*</span> <span class="n">d_A</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">kernelIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">deviceIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">xfblasStatus_t</span> <span class="n">xfblasSetMatrix</span><span class="p">(</span><span class="kt">int</span> <span class="n">rows</span><span class="p">,</span> <span class="kt">int</span> <span class="n">cols</span><span class="p">,</span> <span class="kt">int</span> <span class="n">elemSize</span><span class="p">,</span> <span class="kt">float</span><span class="o">*</span> <span class="n">A</span><span class="p">,</span> <span class="kt">int</span> <span class="n">lda</span><span class="p">,</span> <span class="kt">float</span><span class="o">*</span> <span class="n">d_A</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">kernelIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">deviceIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</pre>
<p>This function copies a matrix in host memory to FPGA device memory. <a class="reference internal" href="#xfblasmalloc">xfblasMalloc()</a> need to be called prior to this function.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>rows</td>
<td>number of rows in the matrix</td>
</tr>
<tr class="row-even"><td>cols</td>
<td>number of cols in the matrix that is being used</td>
</tr>
<tr class="row-odd"><td>elemSize</td>
<td>number of bytes required to store each element in the matrix</td>
</tr>
<tr class="row-even"><td>A</td>
<td>pointer to the matrix array in the host memory</td>
</tr>
<tr class="row-odd"><td>lda</td>
<td>leading dimension of the matrix that indicates the total number of cols in the matrix</td>
</tr>
<tr class="row-even"><td>d_A</td>
<td>pointer to mapped memory</td>
</tr>
<tr class="row-odd"><td>kernelIndex</td>
<td>index of kernel that is being used, default is 0</td>
</tr>
<tr class="row-even"><td>deviceIndex</td>
<td>index of device that is being used, default is 0</td>
</tr>
</tbody>
</table>
<p class="rubric">Return:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>0 if the operation completed successfully</td>
</tr>
<tr class="row-even"><td>xfblasStatus_t</td>
<td>1 if the library was not initialized</td>
</tr>
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>2 if parameters rows, cols, elemSize, lda &lt;= 0 or cols &gt; lda or data types are not matched</td>
</tr>
<tr class="row-even"><td>xfblasStatus_t</td>
<td>3 if there is no FPGA device memory allocated for the matrix</td>
</tr>
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>4 if the engine is not supported for now</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="xfblasgetmatrix">
<h3>2.3.8 xfblasGetMatrix<a class="headerlink" href="#xfblasgetmatrix" title="Permalink to this headline">¶</a></h3>
<pre class="highlight title-code-block literal-block">
<span></span><span class="n">xfblasStatus_t</span> <span class="n">xfblasGetMatrix</span><span class="p">(</span><span class="kt">int</span> <span class="n">rows</span><span class="p">,</span> <span class="kt">int</span> <span class="n">cols</span><span class="p">,</span> <span class="kt">int</span> <span class="n">elemSize</span><span class="p">,</span> <span class="kt">short</span><span class="o">*</span> <span class="n">d_A</span><span class="p">,</span> <span class="kt">short</span><span class="o">*</span> <span class="n">A</span><span class="p">,</span> <span class="kt">int</span> <span class="n">lda</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">kernelIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">deviceIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">xfblasStatus_t</span> <span class="n">xfblasGetMatrix</span><span class="p">(</span><span class="kt">int</span> <span class="n">rows</span><span class="p">,</span> <span class="kt">int</span> <span class="n">cols</span><span class="p">,</span> <span class="kt">int</span> <span class="n">elemSize</span><span class="p">,</span> <span class="kt">float</span><span class="o">*</span> <span class="n">d_A</span><span class="p">,</span> <span class="kt">float</span><span class="o">*</span> <span class="n">A</span><span class="p">,</span> <span class="kt">int</span> <span class="n">lda</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">kernelIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">deviceIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</pre>
<p>This function copies a matrix in FPGA device memory to host memory.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>rows</td>
<td>number of rows in the matrix</td>
</tr>
<tr class="row-even"><td>cols</td>
<td>number of cols in the matrix that is being used</td>
</tr>
<tr class="row-odd"><td>elemSize</td>
<td>number of bytes required to store each element in the matrix</td>
</tr>
<tr class="row-even"><td>d_A</td>
<td>pointer to mapped memory</td>
</tr>
<tr class="row-odd"><td>A</td>
<td>pointer to the matrix array in the host memory</td>
</tr>
<tr class="row-even"><td>lda</td>
<td>leading dimension of the matrix that indicates the total number of cols in the matrix</td>
</tr>
<tr class="row-odd"><td>kernelIndex</td>
<td>index of kernel that is being used, default is 0</td>
</tr>
<tr class="row-even"><td>deviceIndex</td>
<td>index of device that is being used, default is 0</td>
</tr>
</tbody>
</table>
<p class="rubric">Return:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>0 if the operation completed successfully</td>
</tr>
<tr class="row-even"><td>xfblasStatus_t</td>
<td>1 if the library was not initialized</td>
</tr>
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>3 if there is no FPGA device memory allocated for the matrix</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="xfblasmallocrestricted">
<h3>2.3.9 xfblasMallocRestricted<a class="headerlink" href="#xfblasmallocrestricted" title="Permalink to this headline">¶</a></h3>
<pre class="highlight title-code-block literal-block">
<span></span><span class="n">xfblasStatus_t</span> <span class="n">xfblasMallocRestricted</span><span class="p">(</span><span class="kt">int</span> <span class="n">rows</span><span class="p">,</span> <span class="kt">int</span> <span class="n">cols</span><span class="p">,</span> <span class="kt">int</span> <span class="n">elemSize</span><span class="p">,</span> <span class="kt">void</span><span class="o">*</span> <span class="n">A</span><span class="p">,</span> <span class="kt">int</span> <span class="n">lda</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">kernelIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">deviceIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</pre>
<p>This function allocates memory for host row-major format matrix on the FPGA device.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>rows</td>
<td>number of rows in the matrix</td>
</tr>
<tr class="row-even"><td>cols</td>
<td>number of cols in the matrix that is being used</td>
</tr>
<tr class="row-odd"><td>elemSize</td>
<td>number of bytes required to store each element in the matrix</td>
</tr>
<tr class="row-even"><td>A</td>
<td>pointer to the matrix array in the host memory</td>
</tr>
<tr class="row-odd"><td>lda</td>
<td>leading dimension of the matrix that indicates the total number of cols in the matrix</td>
</tr>
<tr class="row-even"><td>kernelIndex</td>
<td>index of kernel that is being used, default is 0</td>
</tr>
<tr class="row-odd"><td>deviceIndex</td>
<td>index of device that is being used, default is 0</td>
</tr>
</tbody>
</table>
<p class="rubric">Return:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>0 if the allocation completed successfully</td>
</tr>
<tr class="row-even"><td>xfblasStatus_t</td>
<td>1 if the library was not initialized</td>
</tr>
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>2 if parameters rows, cols, elemSize, lda &lt;= 0 or cols &gt; lda or data types are not matched</td>
</tr>
<tr class="row-even"><td>xfblasStatus_t</td>
<td>3 if there is memory already allocated to the same matrix</td>
</tr>
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>4 if the engine is not supported for now</td>
</tr>
<tr class="row-even"><td>xfblasStatus_t</td>
<td>5 if rows, cols or lda is not padded correctly</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="xfblassetvectorrestricted">
<h3>2.3.10 xfblasSetVectorRestricted<a class="headerlink" href="#xfblassetvectorrestricted" title="Permalink to this headline">¶</a></h3>
<pre class="highlight title-code-block literal-block">
<span></span><span class="n">xfblasStatus_t</span> <span class="n">xfblasSetVectorRestricted</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span> <span class="n">x</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">kernelIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">deviceIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</pre>
<p>This function copies a vector in host memory to FPGA device memory. <a class="reference internal" href="#xfblasmallocrestricted">xfblasMallocRestricted()</a> need to be called prior to this function.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>x</td>
<td>pointer to the vector in the host memory</td>
</tr>
<tr class="row-even"><td>kernelIndex</td>
<td>index of kernel that is being used, default is 0</td>
</tr>
<tr class="row-odd"><td>deviceIndex</td>
<td>index of device that is being used, default is 0</td>
</tr>
</tbody>
</table>
<p class="rubric">Return:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>0 if the operation completed successfully</td>
</tr>
<tr class="row-even"><td>xfblasStatus_t</td>
<td>1 if the library was not initialized</td>
</tr>
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>3 if there is no FPGA device memory allocated for the vector</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="xfblasgetvectorrestricted">
<h3>2.3.11 xfblasGetVectorRestricted<a class="headerlink" href="#xfblasgetvectorrestricted" title="Permalink to this headline">¶</a></h3>
<pre class="highlight title-code-block literal-block">
<span></span><span class="n">xfblasStatus_t</span> <span class="n">xfblasGetVectorRestricted</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span> <span class="n">x</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">kernelIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">deviceIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</pre>
<p>This function copies a matrix in FPGA device memory to host memory.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>x</td>
<td>pointer to vetcor x in the host memory</td>
</tr>
<tr class="row-even"><td>kernelIndex</td>
<td>index of kernel that is being used, default is 0</td>
</tr>
<tr class="row-odd"><td>deviceIndex</td>
<td>index of device that is being used, default is 0</td>
</tr>
</tbody>
</table>
<p class="rubric">Return:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>0 if the operation completed successfully</td>
</tr>
<tr class="row-even"><td>xfblasStatus_t</td>
<td>1 if the library was not initialized</td>
</tr>
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>3 if there is no FPGA device memory allocated for the matrix</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="xfblassetmatrixrestricted">
<h3>2.3.12 xfblasSetMatrixRestricted<a class="headerlink" href="#xfblassetmatrixrestricted" title="Permalink to this headline">¶</a></h3>
<pre class="highlight title-code-block literal-block">
<span></span><span class="n">xfblasStatus_t</span> <span class="n">xfblasSetMatrixRestricted</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span> <span class="n">A</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">kernelIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">deviceIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</pre>
<p>This function copies a matrix in host memory to FPGA device memory. <a class="reference internal" href="#xfblasmallocrestricted">xfblasMallocRestricted()</a> need to be called prior to this function.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>A</td>
<td>pointer to the matrix array in the host memory</td>
</tr>
<tr class="row-even"><td>kernelIndex</td>
<td>index of kernel that is being used, default is 0</td>
</tr>
<tr class="row-odd"><td>deviceIndex</td>
<td>index of device that is being used, default is 0</td>
</tr>
</tbody>
</table>
<p class="rubric">Return:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>0 if the operation completed successfully</td>
</tr>
<tr class="row-even"><td>xfblasStatus_t</td>
<td>1 if the library was not initialized</td>
</tr>
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>3 if there is no FPGA device memory allocated for the matrix</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="xfblasgetmatrixrestricted">
<h3>2.3.13 xfblasGetMatrixRestricted<a class="headerlink" href="#xfblasgetmatrixrestricted" title="Permalink to this headline">¶</a></h3>
<pre class="highlight title-code-block literal-block">
<span></span><span class="n">xfblasStatus_t</span> <span class="n">xfblasGetMatrixRestricted</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span> <span class="n">A</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">kernelIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">deviceIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</pre>
<p>This function copies a matrix in FPGA device memory to host memory.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>A</td>
<td>pointer to matrix A in the host memory</td>
</tr>
<tr class="row-even"><td>kernelIndex</td>
<td>index of kernel that is being used, default is 0</td>
</tr>
<tr class="row-odd"><td>deviceIndex</td>
<td>index of device that is being used, default is 0</td>
</tr>
</tbody>
</table>
<p class="rubric">Return:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>0 if the operation completed successfully</td>
</tr>
<tr class="row-even"><td>xfblasStatus_t</td>
<td>1 if the library was not initialized</td>
</tr>
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>3 if there is no FPGA device memory allocated for the matrix</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="xfblasmallocmanaged">
<h3>2.3.14 xfblasMallocManaged<a class="headerlink" href="#xfblasmallocmanaged" title="Permalink to this headline">¶</a></h3>
<pre class="highlight title-code-block literal-block">
<span></span><span class="n">xfblasStatus_t</span> <span class="n">xfblasMallocManaged</span><span class="p">(</span><span class="kt">short</span><span class="o">**</span> <span class="n">devPtr</span><span class="p">,</span> <span class="kt">int</span><span class="o">*</span> <span class="n">paddedLda</span><span class="p">,</span> <span class="kt">int</span> <span class="n">rows</span><span class="p">,</span> <span class="kt">int</span> <span class="n">lda</span><span class="p">,</span> <span class="kt">int</span> <span class="n">elemSize</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">kernelIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">deviceIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">xfblasStatus_t</span> <span class="n">xfblasMallocManaged</span><span class="p">(</span><span class="kt">float</span><span class="o">**</span> <span class="n">devPtr</span><span class="p">,</span> <span class="kt">int</span><span class="o">*</span> <span class="n">paddedLda</span><span class="p">,</span> <span class="kt">int</span> <span class="n">rows</span><span class="p">,</span> <span class="kt">int</span> <span class="n">lda</span><span class="p">,</span> <span class="kt">int</span> <span class="n">elemSize</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">kernelIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">deviceIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</pre>
<p>This function allocates memory on the FPGA device, rewrites the leading dimension size after padding.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>devPtr</td>
<td>pointer to mapped memory</td>
</tr>
<tr class="row-even"><td>paddedLda</td>
<td>leading dimension of the matrix after padding</td>
</tr>
<tr class="row-odd"><td>rows</td>
<td>number of rows in the matrix</td>
</tr>
<tr class="row-even"><td>lda</td>
<td>leading dimension of the matrix that indicates the total number of cols in the matrix</td>
</tr>
<tr class="row-odd"><td>elemSize</td>
<td>number of bytes required to store each element in the matrix</td>
</tr>
<tr class="row-even"><td>kernelIndex</td>
<td>index of kernel that is being used, default is 0</td>
</tr>
<tr class="row-odd"><td>deviceIndex</td>
<td>index of device that is being used, default is 0</td>
</tr>
</tbody>
</table>
<p class="rubric">Return:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>0 if the allocation completed successfully</td>
</tr>
<tr class="row-even"><td>xfblasStatus_t</td>
<td>1 if the library was not initialized</td>
</tr>
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>2 if parameters rows, cols, elemSize, lda &lt;= 0 or cols &gt; lda or data types are not matched</td>
</tr>
<tr class="row-even"><td>xfblasStatus_t</td>
<td>3 if there is memory already allocated to the same matrix</td>
</tr>
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>4 if the engine is not supported for now</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="xfblasexecute">
<h3>2.3.15 xfblasExecute<a class="headerlink" href="#xfblasexecute" title="Permalink to this headline">¶</a></h3>
<pre class="highlight title-code-block literal-block">
<span></span><span class="n">xfblasStatus_t</span> <span class="n">xfblasExecute</span> <span class="p">(</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">kernelIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">deviceIndex</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="p">)</span>
</pre>
<p>This function starts the kernel and wait until it finishes.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>kernelIndex</td>
<td>index of kernel that is being used, default is 0</td>
</tr>
<tr class="row-even"><td>deviceIndex</td>
<td>index of device that is being used, default is 0</td>
</tr>
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>0 if the operation completed successfully</td>
</tr>
<tr class="row-even"><td>xfblasStatus_t</td>
<td>1 if the library was not initialized</td>
</tr>
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>3 if there is no FPGA device memory allocated for instrution</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="xfblasexecuteasync">
<h3>2.3.16 xfblasExecuteAsync<a class="headerlink" href="#xfblasexecuteasync" title="Permalink to this headline">¶</a></h3>
<pre class="highlight title-code-block literal-block">
<span></span><span class="kt">void</span> <span class="n">xfblasExecuteAsync</span> <span class="p">(</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">numKernels</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">deviceIndex</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="p">)</span>
</pre>
<p>This asynchronous function starts all kernels and wait until them finish.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>numKernels</td>
<td>number of kernels that is being used, default is 1</td>
</tr>
<tr class="row-even"><td>deviceIndex</td>
<td>index of device that is being used, default is 0</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="xfblasgetbypointer">
<h3>2.3.17 xfblasGetByPointer<a class="headerlink" href="#xfblasgetbypointer" title="Permalink to this headline">¶</a></h3>
<pre class="highlight title-code-block literal-block">
<span></span><span class="n">xfblasStatus_t</span> <span class="n">xfblasGetByPointer</span> <span class="p">(</span>
    <span class="kt">void</span><span class="o">*</span> <span class="n">A</span><span class="p">,</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">kernelIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">deviceIndex</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="p">)</span>
</pre>
<p>This function copies a matrix in FPGA device memory to host memory by pointer.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>A</td>
<td>pointer to matrix A in the host memory</td>
</tr>
<tr class="row-even"><td>kernelIndex</td>
<td>index of kernel that is being used, default is 0</td>
</tr>
<tr class="row-odd"><td>deviceIndex</td>
<td>index of device that is being used, default is 0</td>
</tr>
<tr class="row-even"><td>xfblasStatus_t</td>
<td>0 if the operation completed successfully</td>
</tr>
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>1 if the library was not initialized</td>
</tr>
<tr class="row-even"><td>xfblasStatus_t</td>
<td>3 if there is no FPGA device memory allocated for the matrix</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="xfblasgetbyaddress">
<h3>2.3.18 xfblasGetByAddress<a class="headerlink" href="#xfblasgetbyaddress" title="Permalink to this headline">¶</a></h3>
<pre class="highlight title-code-block literal-block">
<span></span><span class="n">xfblasStatus_t</span> <span class="n">xfblasGetByAddress</span> <span class="p">(</span>
    <span class="kt">void</span><span class="o">*</span> <span class="n">A</span><span class="p">,</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">p_bufSize</span><span class="p">,</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">offset</span><span class="p">,</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">kernelIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">deviceIndex</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="p">)</span>
</pre>
<p>This function copies a matrix in FPGA device memory to host memory by its address in device memory.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>A</td>
<td>pointer to matrix A in the host memory</td>
</tr>
<tr class="row-even"><td>p_bufSize</td>
<td>size of matrix A</td>
</tr>
<tr class="row-odd"><td>offset</td>
<td>A’s address in device memory</td>
</tr>
<tr class="row-even"><td>kernelIndex</td>
<td>index of kernel that is being used, default is 0</td>
</tr>
<tr class="row-odd"><td>deviceIndex</td>
<td>index of device that is being used, default is 0</td>
</tr>
<tr class="row-even"><td>xfblasStatus_t</td>
<td>0 if the operation completed successfully</td>
</tr>
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>1 if the library was not initialized</td>
</tr>
<tr class="row-even"><td>xfblasStatus_t</td>
<td>3 if there is no FPGA device memory allocated for the matrix</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="vitis-blas-function-reference">
<h2>2.4 Vitis BLAS Function Reference<a class="headerlink" href="#vitis-blas-function-reference" title="Permalink to this headline">¶</a></h2>
<div class="section" id="xfblasgemm">
<h3>2.4.1 xfblasGemm<a class="headerlink" href="#xfblasgemm" title="Permalink to this headline">¶</a></h3>
<pre class="highlight title-code-block literal-block">
<span></span><span class="n">xfblasStatus_t</span> <span class="n">xfblasGemm</span><span class="p">(</span><span class="n">xfblasOperation_t</span> <span class="n">transa</span><span class="p">,</span> <span class="n">xfblasOperation_t</span> <span class="n">transb</span><span class="p">,</span> <span class="kt">int</span> <span class="n">m</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="n">k</span><span class="p">,</span> <span class="kt">int</span> <span class="n">alpha</span><span class="p">,</span> <span class="kt">void</span><span class="o">*</span> <span class="n">A</span><span class="p">,</span> <span class="kt">int</span> <span class="n">lda</span><span class="p">,</span> <span class="kt">void</span><span class="o">*</span> <span class="n">B</span><span class="p">,</span> <span class="kt">int</span> <span class="n">ldb</span><span class="p">,</span> <span class="kt">int</span> <span class="n">beta</span><span class="p">,</span> <span class="kt">void</span><span class="o">*</span> <span class="n">C</span><span class="p">,</span> <span class="kt">int</span> <span class="n">ldc</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">kernelIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">deviceIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</pre>
<p>This function performs the matrix-matrix multiplication C = alpha*op(A)op(B) + beta*C. See L3 examples for detail usage.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>transa</td>
<td>operation op(A) that is non- or (conj.) transpose</td>
</tr>
<tr class="row-even"><td>transb</td>
<td>operation op(B) that is non- or (conj.) transpose</td>
</tr>
<tr class="row-odd"><td>m</td>
<td>number of rows in matrix A, matrix C</td>
</tr>
<tr class="row-even"><td>n</td>
<td>number of cols in matrix B, matrix C</td>
</tr>
<tr class="row-odd"><td>k</td>
<td>number of cols in matrix A, number of rows in matrix B</td>
</tr>
<tr class="row-even"><td>alpha</td>
<td>scalar used for multiplication</td>
</tr>
<tr class="row-odd"><td>A</td>
<td>pointer to matrix A in the host memory</td>
</tr>
<tr class="row-even"><td>lda</td>
<td>leading dimension of matrix A</td>
</tr>
<tr class="row-odd"><td>B</td>
<td>pointer to matrix B in the host memory</td>
</tr>
<tr class="row-even"><td>ldb</td>
<td>leading dimension of matrix B</td>
</tr>
<tr class="row-odd"><td>beta</td>
<td>scalar used for multiplication</td>
</tr>
<tr class="row-even"><td>C</td>
<td>pointer to matrix C in the host memory</td>
</tr>
<tr class="row-odd"><td>ldc</td>
<td>leading dimension of matrix C</td>
</tr>
<tr class="row-even"><td>kernelIndex</td>
<td>index of kernel that is being used, default is 0</td>
</tr>
<tr class="row-odd"><td>deviceIndex</td>
<td>index of device that is being used, default is 0</td>
</tr>
</tbody>
</table>
<p class="rubric">Return:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>0 if the operation completed successfully</td>
</tr>
<tr class="row-even"><td>xfblasStatus_t</td>
<td>1 if the library was not initialized</td>
</tr>
<tr class="row-odd"><td>xfblasStatus_t</td>
<td>3 if not all the matrices have FPGA devie memory allocated</td>
</tr>
<tr class="row-even"><td>xfblasStatus_t</td>
<td>4 if the engine is not supported for now</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="obtain-fpga-bitstream">
<h1>3. Obtain FPGA bitstream<a class="headerlink" href="#obtain-fpga-bitstream" title="Permalink to this headline">¶</a></h1>
<p>FPGA bitstreams could be built in examples or tests folder by using command make build TARGET=hw PLATFORM_REPO_PATHS=LOCAL_PLATFORM_PATH</p>
</div>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>


	  <!-- Sphinx Page Footer block -->
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="L3_example.html" class="btn btn-neutral float-right" title="L3 API example" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="L3_overview.html" class="btn btn-neutral float-left" title="L3 API Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">

    </p>
	<br>
  </div>
      </div>
    </section>


  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

   <script type="text/javascript">
    jQuery(function() { Search.loadIndex("searchindex.js"); });
  </script>

  <script type="text/javascript" id="searchindexloader"></script>


  
  
    
  



  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
                  <!-- make footer fixed - NileshP -->
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
                  <!-- make footer fixed NileshP-->
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
															</div>
														</div>
														<div class="col-md-pull-6 col-lg-pull-6 col-md-6 col-lg-6">
															<span class="copyright">
                                  
                                  &copy; 2021, Xilinx Inc.
                              </span>
															<ul class="list-inline sub-menu">
																<li>
																	<a href="https://www.xilinx.com/about/privacy-policy.html">Privacy</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/legal.html">Legal</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/contact.html">Contact</a>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="quicklinks parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<noindex>
						<span class="quickLinks">
							<ul>
								<li>
									<a href="#top" class="btn backToTop">
									<span class="fas fa-angle-up" aria-hidden="true"></span>
									</a>
								</li>
							</ul>
						</span>
					</noindex>
				</div>
			</div>
		</div>
		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}

			underscoreSetup();
		</script>
	</body>
</html>