


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="../_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

  
  
  
  

  
      <script type="text/javascript" src="../_static/js/jquery.min.js"></script>
	  <script type="text/javascript" src="../_static/js/gtm.js"></script>
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="../_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="../_static/js/common-ui-all.min.js"></script>
    <script type="text/javascript" src="../_static/js/header-footer.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../_static/js/CoveoJsSearch.Lazy.min.js"></script>
    <script type="text/javascript" src="../_static/js/linkid.js"></script>
    <script type="text/javascript" src="../_static/js/Searchbox.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/pro.min.css" media="all" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="header parbase aem-GridColumn aem-GridColumn--default--12">
								<noindex>
									<header data-component="header">
										<nav class="navbar navbar-default aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid main-nav">
													<div class="row">
														<div class="col-xs-12">
															<div class="logo-column">
																<div class="logo">
																	<a href="https://www.xilinx.com/">
																	<img src="https://github.com/Xilinx/Image-Collateral/blob/main/xilinx-header-logo.svg?raw=true" title="Xilinx Inc"/>
																	</a>
																</div>
															</div>
															<div class="navbar-column">
																<div class="navbar navbar-collapse collapse" id="xilinx-main-menu">
																	<div class="mobile-search-container">
																		<div id="headerSearchBox" class="headerSearch"
																			data-component="header-search"
																			data-redirect-if-empty="false"
																			data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																			data-coveo-organization-id="xilinxcomprode2rjoqok">
																			<div class='coveo-search-section'>
																				<div class="CoveoAnalytics" data-search-hub="Site"></div>
																				<ul class="dropdown-menu options">
																					<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																						<a href="#">
																						All</a>
																					</li>
																					<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com//products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Silicon Devices</a>
																					</li>
																					<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com//products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Boards and Kits</a>
																					</li>
																					<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com//products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Intellectual Property</a>
																					</li>
																					<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																						<a href="#">
																						Support</a>
																						<ul>
																							<li data-label="Documentation" data-action-link="https://www.xilinx.com//support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																								<a href="#">
																								Documentation</a>
																							</li>
																							<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com//support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																								<a href="#">
																								Knowledge Base</a>
																							</li>
																							<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																								<a href="#">
																								Community Forums</a>
																							</li>
																						</ul>
																					</li>
																					<li data-label="Partners" data-action-link="https://www.xilinx.com//alliance/member-keyword-search.html" data-search-hub="Partner">
																						<a href="#">
																						Partners</a>
																					</li>
																					<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																						<a href="#">
																						Videos</a>
																					</li>
																					<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																						<a href="#">
																						Press</a>
																					</li>
																				</ul>
																				<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																				<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																			</div>
																		</div>
																	</div>
																	<ul class="nav navbar-nav nav-justified">
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/applications.html">
																			Applications</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/products/silicon-devices.html">
																			Products</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://developer.xilinx.com/">
																			Developers</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/support.html">
																			Support</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/about/company-overview.html">
																			About</a>
																		</li>
																	</ul>
																</div>
															</div>
															<script type="text/javascript" src="../_static/js/gtm.js"></script>
															<!--<div class="mini-nav">
																<button type="button" data-function="xilinx-mobile-menu" id="nav-toggle" class="navbar-toggle collapsed visible-xs-block" aria-expanded="false">
																<span></span>
																<span></span>
																<span></span>
																<span></span>
																</button>
																<ul class="list-inline">
																	<li class="dropdown user-menu">
																		<button data-toggle="dropdown">
																		<span class="sr-only">Account</span>
																		<span class="fas fa-user"></span>
																		</button>
																		<ul class="dropdown-menu">
																			<li>
																				<a href="https://www.xilinx.com/myprofile/subscriptions.html">
																				My Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/registration/create-account.html">
																				Create Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/bin/protected/en/signout">
																				Sign Out</a>
																			</li>
																		</ul>
																	</li>
																	<li class="hidden-xs">
																		<button data-function="search-toggle">
																		<span class="sr-only">Search</span>
																		<span class="far fa-search"></span>
																		</button>
																	</li>
																</ul>
															</div>
															-->
															<div class="search-container">
																<div id="headerSearchBox" class="headerSearch"
																	data-component="header-search"
																	data-redirect-if-empty="false"
																	data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																	data-coveo-organization-id="xilinxcomprode2rjoqok">
																	<div class='coveo-search-section'>
																		<div class="CoveoAnalytics" data-search-hub="Site"></div>
																		<ul class="dropdown-menu options">
																			<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																				<a href="#">
																				All</a>
																			</li>
																			<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com/products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Silicon Devices</a>
																			</li>
																			<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com/products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Boards and Kits</a>
																			</li>
																			<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com/products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Intellectual Property</a>
																			</li>
																			<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																				<a href="#">
																				Support</a>
																				<ul>
																					<li data-label="Documentation" data-action-link="https://www.xilinx.com/support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																						<a href="#">
																						Documentation</a>
																					</li>
																					<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com/support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																						<a href="#">
																						Knowledge Base</a>
																					</li>
																					<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																						<a href="#">
																						Community Forums</a>
																					</li>
																				</ul>
																			</li>
																			<li data-label="Partners" data-action-link="https://www.xilinx.com/alliance/member-keyword-search.html" data-search-hub="Partner">
																				<a href="#">
																				Partners</a>
																			</li>
																			<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																				<a href="#">
																				Videos</a>
																			</li>
																			<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																				<a href="#">
																				Press</a>
																			</li>
																		</ul>
																		<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																		<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																	</div>
																</div>
																<button data-function="search-toggle">
																<span class="sr-only">Search</span>
																<span class="far fa-times"></span>
																</button>
															</div>
														</div>
													</div>
												</div>
											</div>
										</nav>
									</header>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Vitis Data Analytics Library
          

          
          </a>

          
            
            
              <div class="version">
                2021.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

      
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            
            
            
              
            
            
              <p class="caption"><span class="caption-text">Library Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Vitis Data Analytics Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">Release Note</a></li>
<li class="toctree-l1"><a class="reference internal" href="../requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design_flows.html">Design Flows</a></li>
</ul>
<p class="caption"><span class="caption-text">L1 User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../guide_L1/hw_guide.html">L1 Module User Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">L2 User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../guide_L2/l2_guide.html">L2 Kernel User Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">L3 User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../guide_L3/L3.html">L3 Overlay User Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Benchmark Result</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../benchmark.html">Benchmark</a></li>
</ul>

            
			
				<h3>Versions</h3>
				<ul>
				  <li><a href=""></a></li>
				  <li><a href=""></a></li>
				  <li><a href=""></a></li>
				</ul>
			
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Vitis Data Analytics Library</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>namespace internal</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="namespace-internal">
<span id="cid-xf-data-analytics-clustering-internal"></span><span id="doxid-namespacexf-1-1data-analytics-1-1clustering-1-1internal"></span><span id="index-0"></span><h1>namespace internal<a class="headerlink" href="#namespace-internal" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<pre class="highlight overview-code-block literal-block" id="cid-xf-data-analytics-clustering-internal-parser">
<span id="doxid-namespacexf-1-1data-analytics-1-1clustering-1-1internal-1ae12f076b80cf8deda1588f30ef977fcd"></span><span id="cid-xf-data-analytics-clustering-internal-axivarcoltostreams"></span><span id="doxid-namespacexf-1-1data-analytics-1-1clustering-1-1internal-1a15c85f2432a622f996cd373d1514710a"></span><span></span><span class="c1">// namespaces</span>

<span class="k">namespace</span> <a class="reference internal" href="namespace_xf_data_analytics_clustering_internal_kmeansScan.html#doxid-namespacexf-1-1data-analytics-1-1clustering-1-1internal-1-1kmeans-scan"><span class="std std-ref">xf::data_analytics::clustering::internal::kmeansScan</span></a>
</pre>
<div class="section" id="storecenters2array">
<span id="cid-xf-data-analytics-clustering-internal-storecenters2array"></span><span id="doxid-namespacexf-1-1data-analytics-1-1clustering-1-1internal-1a39dfde00da10335cd35911da1ee8b641"></span><h2>storeCenters2Array<a class="headerlink" href="#storecenters2array" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_data_analytics/clustering/kmeansTrain.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">typename</span> <span class="n">DT</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">Dim</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">Kcluster</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">uramDepth</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">KU</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">DV</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">storeCenters2Array</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="k">sizeof</span> <span class="p">(</span><span class="n">DT</span><span class="p">)</span><span class="o">*</span><span class="mi">8</span><span class="o">&gt;&gt;</span> <span class="n">centerStrm</span> <span class="p">[</span><span class="n">DV</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">eCenterStrm</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">dims</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="k">sizeof</span> <span class="p">(</span><span class="n">DT</span><span class="p">)</span><span class="o">*</span><span class="mi">8</span><span class="o">*</span><span class="n">DV</span><span class="o">&gt;</span> <span class="n">centers</span> <span class="p">[</span><span class="n">KU</span><span class="p">][</span><span class="n">uramDepth</span><span class="p">]</span>
    <span class="p">)</span>
</pre>
<p>storeCenters2Array is used for storing centers to local memory.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>DT</td>
<td>data type, supporting float and double</td>
</tr>
<tr class="row-even"><td>Dim</td>
<td>the maximum number of dimensions, dims&lt;=Dim</td>
</tr>
<tr class="row-odd"><td>Kcluster</td>
<td>the maximum number of cluster,kcluster&lt;=Kcluster</td>
</tr>
<tr class="row-even"><td>uramDepth</td>
<td>the depth of uram</td>
</tr>
<tr class="row-odd"><td>KU</td>
<td>unroll factor of Kcluster</td>
</tr>
<tr class="row-even"><td>DV</td>
<td>unroll factor of Dim</td>
</tr>
<tr class="row-odd"><td>centerStrm</td>
<td>input centers streams</td>
</tr>
<tr class="row-even"><td>ecenterStrm</td>
<td>the end flag of centerStrm</td>
</tr>
<tr class="row-odd"><td>dims</td>
<td>the number of dimensions</td>
</tr>
<tr class="row-even"><td>centers</td>
<td>local memory for storing centers</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="scanandstorecenters">
<span id="cid-xf-data-analytics-clustering-internal-scanandstorecenters"></span><span id="doxid-namespacexf-1-1data-analytics-1-1clustering-1-1internal-1a224e18c0d4a7ee1866c567821257bd06"></span><h2>scanAndStoreCenters<a class="headerlink" href="#scanandstorecenters" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_data_analytics/clustering/kmeansTrain.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">typename</span> <span class="n">DT</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">Dim</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">Kcluster</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">uramDepth</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">KU</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">DV</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">scanAndStoreCenters</span> <span class="p">(</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">512</span><span class="o">&gt;*</span> <span class="n">data</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">32</span><span class="o">&gt;</span> <span class="n">offset</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">dims</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">kcluster</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="k">sizeof</span> <span class="p">(</span><span class="n">DT</span><span class="p">)</span><span class="o">*</span><span class="mi">8</span><span class="o">*</span><span class="n">DV</span><span class="o">&gt;</span> <span class="n">centers</span> <span class="p">[</span><span class="n">KU</span><span class="p">][</span><span class="n">uramDepth</span><span class="p">]</span>
    <span class="p">)</span>
</pre>
<p>scanAndStoreCenters is used for scanning initial centers from DDR and storing to local memory.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>DT</td>
<td>data type, supporting float and double</td>
</tr>
<tr class="row-even"><td>Dim</td>
<td>the maximum number of dimensions, dims&lt;=Dim</td>
</tr>
<tr class="row-odd"><td>Kcluster</td>
<td>the maximum number of cluster,kcluster&lt;=Kcluster</td>
</tr>
<tr class="row-even"><td>uramDepth</td>
<td>the depth of uram</td>
</tr>
<tr class="row-odd"><td>KU</td>
<td>unroll factor of Kcluster</td>
</tr>
<tr class="row-even"><td>DV</td>
<td>unroll factor of Dim</td>
</tr>
<tr class="row-odd"><td>data</td>
<td>initial centers on DDR</td>
</tr>
<tr class="row-even"><td>offset</td>
<td>the start position of initial centers in data</td>
</tr>
<tr class="row-odd"><td>dims</td>
<td>the number of dimensions</td>
</tr>
<tr class="row-even"><td>kcluster</td>
<td>the number of clusters</td>
</tr>
<tr class="row-odd"><td>centers</td>
<td>local memory for storing centers</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="writecenters">
<span id="cid-xf-data-analytics-clustering-internal-writecenters"></span><span id="doxid-namespacexf-1-1data-analytics-1-1clustering-1-1internal-1a01a339730b3a80e22a01d92471696c6c"></span><h2>writeCenters<a class="headerlink" href="#writecenters" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_data_analytics/clustering/kmeansTrain.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">typename</span> <span class="n">DT</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">Dim</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">Kcluster</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">uramDepth</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">KU</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">DV</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">writeCenters</span> <span class="p">(</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="k">sizeof</span> <span class="p">(</span><span class="n">DT</span><span class="p">)</span><span class="o">*</span><span class="mi">8</span><span class="o">*</span><span class="n">DV</span><span class="o">&gt;</span> <span class="n">centersArray</span> <span class="p">[</span><span class="n">KU</span><span class="p">][</span><span class="n">uramDepth</span><span class="p">],</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">dims</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">kcluster</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">it</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">512</span><span class="o">&gt;*</span> <span class="n">kcenters</span>
    <span class="p">)</span>
</pre>
<p>writeCenters writes best centers to DDR.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>DT</td>
<td>data type, supporting float and double</td>
</tr>
<tr class="row-even"><td>Dim</td>
<td>the maximum number of dimensions, dims&lt;=Dim</td>
</tr>
<tr class="row-odd"><td>Kcluster</td>
<td>the maximum number of cluster,kcluster&lt;=Kcluster</td>
</tr>
<tr class="row-even"><td>uramDepth</td>
<td>the depth of uram</td>
</tr>
<tr class="row-odd"><td>KU</td>
<td>unroll factor of Kcluster</td>
</tr>
<tr class="row-even"><td>DV</td>
<td>unroll factor of Dim</td>
</tr>
<tr class="row-odd"><td>centersArray</td>
<td>best centers</td>
</tr>
<tr class="row-even"><td>dims</td>
<td>the number of dimensions</td>
</tr>
<tr class="row-odd"><td>kcluster</td>
<td>the number of clusters</td>
</tr>
<tr class="row-even"><td>it</td>
<td>iterations</td>
</tr>
<tr class="row-odd"><td>kcenters</td>
<td>centers in DDR</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="updatec0">
<span id="cid-xf-data-analytics-clustering-internal-updatec0"></span><span id="doxid-namespacexf-1-1data-analytics-1-1clustering-1-1internal-1ad7682abf64c129d59accd36a2594e7d1"></span><h2>updateC0<a class="headerlink" href="#updatec0" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_data_analytics/clustering/kmeansTrain.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">typename</span> <span class="n">DT</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">Dim</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">Kcluster</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">uramDepth</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">KU</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">DV</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">updateC0</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="k">sizeof</span> <span class="p">(</span><span class="n">DT</span><span class="p">)</span><span class="o">*</span><span class="mi">8</span><span class="o">&gt;&gt;</span> <span class="n">sampleStrm</span> <span class="p">[</span><span class="n">DV</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">endSampleStrm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">32</span><span class="o">&gt;&gt;&amp;</span> <span class="n">tagStrm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">etagStrm</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">dims</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="k">sizeof</span> <span class="p">(</span><span class="n">DT</span><span class="p">)</span><span class="o">*</span><span class="mi">8</span><span class="o">*</span><span class="n">DV</span><span class="o">&gt;</span> <span class="n">betterCenters</span> <span class="p">[</span><span class="n">KU</span><span class="p">][</span><span class="n">uramDepth</span><span class="p">]</span>
    <span class="p">)</span>
</pre>
<p>updateC0 is used for updating centers</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>DT</td>
<td>data type, supporting float and double</td>
</tr>
<tr class="row-even"><td>Dim</td>
<td>the maximum number of dimensions, dims&lt;=Dim</td>
</tr>
<tr class="row-odd"><td>Kcluster</td>
<td>the maximum number of cluster,kcluster&lt;=Kcluster</td>
</tr>
<tr class="row-even"><td>uramDepth</td>
<td>the depth of uram</td>
</tr>
<tr class="row-odd"><td>KU</td>
<td>unroll factor of Kcluster</td>
</tr>
<tr class="row-even"><td>DV</td>
<td>unroll factor of Dim</td>
</tr>
<tr class="row-odd"><td>sampleStrm</td>
<td>input sample streams</td>
</tr>
<tr class="row-even"><td>endSampleStrm</td>
<td>the end flag of input sample streams</td>
</tr>
<tr class="row-odd"><td>tagStrm</td>
<td>input tag streams,each tag is the id which each sample belongs to cluster.</td>
</tr>
<tr class="row-even"><td>etagStrm</td>
<td>the end flag of tag streams</td>
</tr>
<tr class="row-odd"><td>dims</td>
<td>the number of dimensions.</td>
</tr>
<tr class="row-even"><td>betterCenters</td>
<td>updated centers.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="convertport">
<span id="cid-xf-data-analytics-clustering-internal-convertport"></span><span id="doxid-namespacexf-1-1data-analytics-1-1clustering-1-1internal-1a1fdc4b1b9c34f9505bcfabbe55bc38d1"></span><h2>convertPort<a class="headerlink" href="#convertport" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_data_analytics/clustering/kmeansTrain.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">sz</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">sn</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">Dim</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">DV</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">convertPort</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">sz</span><span class="o">&gt;&gt;</span> <span class="n">sampleStrm</span> <span class="p">[</span><span class="n">sn</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">endSampleStrm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">sz</span><span class="o">&gt;&gt;</span> <span class="n">s1Strm</span> <span class="p">[</span><span class="n">DV</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">es1Strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">sz</span><span class="o">&gt;&gt;</span> <span class="n">s2Strm</span> <span class="p">[</span><span class="n">DV</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">es2Strm</span>
    <span class="p">)</span>
</pre>
<p>convertPort converts sn streams to DV streams, in which the s1 and s2 are same.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>sz</td>
<td>the width input/output stream</td>
</tr>
<tr class="row-even"><td>sn</td>
<td>the number of input streams</td>
</tr>
<tr class="row-odd"><td>Dim</td>
<td>the number of dimensions</td>
</tr>
<tr class="row-even"><td>DV</td>
<td>the number of output streams</td>
</tr>
<tr class="row-odd"><td>sampleStrm</td>
<td>input streams.</td>
</tr>
<tr class="row-even"><td>endSampleStrm</td>
<td>the end flag of input streams</td>
</tr>
<tr class="row-odd"><td>s1Strm</td>
<td>duplicate stream.</td>
</tr>
<tr class="row-even"><td>es1Strm</td>
<td>the end flag of s1Strm.</td>
</tr>
<tr class="row-odd"><td>s2Strm</td>
<td>duplicate stream.</td>
</tr>
<tr class="row-even"><td>es2Strm</td>
<td>the end flag of s1Strm.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="isconverged">
<span id="cid-xf-data-analytics-clustering-internal-isconverged"></span><span id="doxid-namespacexf-1-1data-analytics-1-1clustering-1-1internal-1a6a707f81c1632c95dfc8f1fae7caf364"></span><h2>isConverged<a class="headerlink" href="#isconverged" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_data_analytics/clustering/kmeansTrain.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">typename</span> <span class="n">DT</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">Dim</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">Kcluster</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">uramDepth</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">KU</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">DV</span>
    <span class="o">&gt;</span>
<span class="kt">bool</span> <span class="n">isConverged</span> <span class="p">(</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="k">sizeof</span> <span class="p">(</span><span class="n">DT</span><span class="p">)</span><span class="o">*</span><span class="mi">8</span><span class="o">*</span><span class="n">DV</span><span class="o">&gt;</span> <span class="n">centers</span> <span class="p">[</span><span class="n">KU</span><span class="p">][</span><span class="n">uramDepth</span><span class="p">],</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="k">sizeof</span> <span class="p">(</span><span class="n">DT</span><span class="p">)</span><span class="o">*</span><span class="mi">8</span><span class="o">*</span><span class="n">DV</span><span class="o">&gt;</span> <span class="n">betterCenters</span> <span class="p">[</span><span class="n">KU</span><span class="p">][</span><span class="n">uramDepth</span><span class="p">],</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">dims</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">kcluster</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">DT</span> <span class="n">eps</span>
    <span class="p">)</span>
</pre>
<p>isConverged is used for checking whether new centers is close to previous centers and copy betterCenters to centers with clearing betterCenters in order to reduce resource.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>DT</td>
<td>data type, supporting float and double</td>
</tr>
<tr class="row-even"><td>Dim</td>
<td>the maximum number of dimensions,dynamic number of dimension should be not greater than the maximum.</td>
</tr>
<tr class="row-odd"><td>Kcluster</td>
<td>the maximum number of cluster,dynamic number of cluster should be not greater than the maximum.</td>
</tr>
<tr class="row-even"><td>uramDepth</td>
<td><p class="first">the depth of uram where centers are stored. uramDepth should be not less than ceiling(Kcluster/KU)</p>
<ul class="last simple">
<li>ceiling(Dim/DV)</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>KU</td>
<td>unroll factor of Kcluster, KU centers are took part in calculating distances concurrently with one sample. After Kcluster/KU+1 times at most, ouput the minimum distance of a sample and Kcluster centers.</td>
</tr>
<tr class="row-even"><td>DV</td>
<td>unroll factor of Dim, DV elements in a center are took part in calculating distances concurrently with one sample.</td>
</tr>
<tr class="row-odd"><td>centers</td>
<td>previous centers.</td>
</tr>
<tr class="row-even"><td>betterCenters</td>
<td>new centers</td>
</tr>
<tr class="row-odd"><td>dims</td>
<td>the number of dimensions.</td>
</tr>
<tr class="row-even"><td>kcluster</td>
<td>the number of clusters.</td>
</tr>
<tr class="row-odd"><td>eps</td>
<td>distance thredhold.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="kmeanstrainiter">
<span id="cid-xf-data-analytics-clustering-internal-kmeanstrainiter"></span><span id="doxid-namespacexf-1-1data-analytics-1-1clustering-1-1internal-1a338289f03f84e4cb5dd784758eca683c"></span><h2>kMeansTrainIter<a class="headerlink" href="#kmeanstrainiter" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_data_analytics/clustering/kmeansTrain.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">typename</span> <span class="n">DT</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">Dim</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">Kcluster</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">uramDepth</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">KU</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">DV</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">kMeansTrainIter</span> <span class="p">(</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">512</span><span class="o">&gt;*</span> <span class="n">data</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="k">sizeof</span> <span class="p">(</span><span class="n">DT</span><span class="p">)</span><span class="o">*</span><span class="mi">8</span><span class="o">*</span><span class="n">DV</span><span class="o">&gt;</span> <span class="n">centers</span> <span class="p">[</span><span class="n">KU</span><span class="p">][</span><span class="n">uramDepth</span><span class="p">],</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">nsample</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">dims</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">kcluster</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">offset</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="k">sizeof</span> <span class="p">(</span><span class="n">DT</span><span class="p">)</span><span class="o">*</span><span class="mi">8</span><span class="o">*</span><span class="n">DV</span><span class="o">&gt;</span> <span class="n">betterCenters</span> <span class="p">[</span><span class="n">KU</span><span class="p">][</span><span class="n">uramDepth</span><span class="p">]</span>
    <span class="p">)</span>
</pre>
<p>kMeansTrainIter is used for one iteration of training: scan samples + predict + update centers.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>DT</td>
<td>data type, supporting float and double</td>
</tr>
<tr class="row-even"><td>Dim</td>
<td>the maximum number of dimensions,dynamic number of dimension should be not greater than the maximum.</td>
</tr>
<tr class="row-odd"><td>Kcluster</td>
<td>the maximum number of cluster,dynamic number of cluster should be not greater than the maximum.</td>
</tr>
<tr class="row-even"><td>uramDepth</td>
<td><p class="first">the depth of uram where centers are stored. uramDepth should be not less than ceiling(Kcluster/KU)</p>
<ul class="last simple">
<li>ceiling(Dim/DV)</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>KU</td>
<td>unroll factor of Kcluster, KU centers are took part in calculating distances concurrently with one sample. After Kcluster/KU+1 times at most, ouput the minimum distance of a sample and Kcluster centers.</td>
</tr>
<tr class="row-even"><td>DV</td>
<td>unroll factor of Dim, DV elements in a center are took part in calculating distances concurrently with one sample.</td>
</tr>
<tr class="row-odd"><td>centers</td>
<td>input centers used for calculating distance.</td>
</tr>
<tr class="row-even"><td>nsample</td>
<td>the number of input samples.</td>
</tr>
<tr class="row-odd"><td>dims</td>
<td>the number of dimensions.</td>
</tr>
<tr class="row-even"><td>kcluster</td>
<td>the number of clusters.</td>
</tr>
<tr class="row-odd"><td>offset</td>
<td>the start position of samples in data, offset = 1 + ceiling(kcluster*dims*8*sizeof(DT)/512).</td>
</tr>
<tr class="row-even"><td>betterCenters</td>
<td>updated centers as better centers</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="kmeanstrainimp">
<span id="cid-xf-data-analytics-clustering-internal-kmeanstrainimp"></span><span id="doxid-namespacexf-1-1data-analytics-1-1clustering-1-1internal-1afbaec4a71291888c3920e197c17a771e"></span><h2>kMeansTrainImp<a class="headerlink" href="#kmeanstrainimp" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_data_analytics/clustering/kmeansTrain.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">typename</span> <span class="n">DT</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">Dim</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">Kcluster</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">KU</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">DV</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">kMeansTrainImp</span> <span class="p">(</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">512</span><span class="o">&gt;*</span> <span class="n">data</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">512</span><span class="o">&gt;*</span> <span class="n">kcenters</span>
    <span class="p">)</span>
</pre>
<p>kMeansTrainImp is used for implementation k means training. It parsers all dynamic configures from compressed input data at first, then stores the initial centers to local memory. When iterations is up to maximum number or new centers are very close to previous centers, the last centers as best centers are ouput.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>DT</td>
<td>data type, supporting float and double</td>
</tr>
<tr class="row-even"><td>Dim</td>
<td>the maximum number of dimensions,dynamic number of dimension should be not greater than the maximum.</td>
</tr>
<tr class="row-odd"><td>Kcluster</td>
<td>the maximum number of cluster,dynamic number of cluster should be not greater than the maximum.</td>
</tr>
<tr class="row-even"><td>KU</td>
<td>unroll factor of Kcluster, KU centers are took part in calculating distances concurrently with one sample. After Kcluster/KU+1 times at most, ouput the minimum distance of a sample and Kcluster centers.</td>
</tr>
<tr class="row-odd"><td>DV</td>
<td>unroll factor of Dim, DV elements in a center are took part in calculating distances concurrently with one sample.</td>
</tr>
<tr class="row-even"><td>data</td>
<td>input data from host</td>
</tr>
<tr class="row-odd"><td>kcenters</td>
<td>the output best centers</td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>


	  <!-- Sphinx Page Footer block -->
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">

    </p>
	<br>
  </div>
      </div>
    </section>


  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

   <script type="text/javascript">
    jQuery(function() { Search.loadIndex("searchindex.js"); });
  </script>

  <script type="text/javascript" id="searchindexloader"></script>


  
  
    
  



  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
                  <!-- make footer fixed - NileshP -->
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
                  <!-- make footer fixed NileshP-->
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
															</div>
														</div>
														<div class="col-md-pull-6 col-lg-pull-6 col-md-6 col-lg-6">
															<span class="copyright">
                                  
                                  &copy; 2021, Xilinx
                              </span>
															<ul class="list-inline sub-menu">
																<li>
																	<a href="https://www.xilinx.com/about/privacy-policy.html">Privacy</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/legal.html">Legal</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/contact.html">Contact</a>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="quicklinks parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<noindex>
						<span class="quickLinks">
							<ul>
								<li>
									<a href="#top" class="btn backToTop">
									<span class="fas fa-angle-up" aria-hidden="true"></span>
									</a>
								</li>
							</ul>
						</span>
					</noindex>
				</div>
			</div>
		</div>
		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}

			underscoreSetup();
		</script>
	</body>
</html>